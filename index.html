<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trader X • Exchange (Full)</title>
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root {
      --bg:#0a0f17; --panel:#111725; --border:#1b2333; --muted:#93a1b3; --text:#e7edf5;
      --accent:#00e0a4; --yellow:#f0b90b; --buy:#00c389; --sell:#ff5c7a;
    }
    body { margin:0; background:var(--bg); color:var(--text); font-family:Inter,system-ui,Arial; }
    header { padding:12px 16px; display:flex; align-items:center; gap:12px; border-bottom:1px solid var(--border); }
    header .brand { font-weight:900; color:var(--yellow); }
    header .pair { color:var(--muted); font-weight:700; }
    .tabs { margin-left:auto; display:flex; gap:8px; }
    .tab { padding:6px 10px; border:1px solid var(--border); background:#0d1422; color:var(--muted); border-radius:8px; cursor:pointer; }
    .tab.active { background:var(--yellow); color:#0b0f17; font-weight:800; border-color:#d19c0a; }
    main.layout { display:grid; grid-template-columns: 2fr 1fr; grid-template-rows: auto auto auto; gap:12px; padding:12px; }
    .panel { background:var(--panel); border:1px solid var(--border); border-radius:12px; overflow:hidden; }
    .panel h2 { margin:0; padding:10px 12px; font-size:13px; border-bottom:1px solid var(--border); color:var(--muted); }
    .content { padding:12px; }
    .metrics { display:flex; gap:12px; flex-wrap:wrap; margin-bottom:8px; }
    .metric { background:#0e1422; border:1px solid #283042; border-radius:10px; padding:8px 10px; }
    .metric .label { font-size:11px; color:var(--muted); }
    .metric .value { font-size:16px; font-weight:800; margin-top:2px; }
    .grid2 { display:grid; grid-template-columns:1fr 1fr; gap:10px; }
    label { display:block; font-size:12px; color:var(--muted); margin-bottom:6px; }
    input, select { width:100%; padding:10px; border-radius:10px; border:1px solid #283042; background:#0f1421; color:var(--text); }
    .actions { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .btn { padding:10px 12px; border:none; border-radius:10px; font-weight:700; cursor:pointer; }
    .btn.buy { background:var(--buy); color:#06140f; }
    .btn.sell { background:var(--sell); color:#2b0a11; }
    .btn.secondary { background:#1c2333; color:var(--text); border:1px solid #283042; }
    .btn.ghost { background:transparent; color:var(--muted); border:1px dashed #2b3448; }
    .quick { display:flex; gap:6px; margin-top:8px; }
    .quick button { flex:1; padding:8px; background:#0f1422; color:#b9c3cf; border:1px solid #2a3246; border-radius:8px; cursor:pointer; }
    .quick button:hover { background:var(--accent); color:#0b0f17; }
    table { width:100%; border-collapse:collapse; }
    th, td { font-size:12px; padding:6px 4px; border-bottom:1px solid var(--border); }
    th { color:var(--muted); text-align:right; }
    td { text-align:right; }
    .buyText { color:#8fffd3; }
    .sellText { color:#ffa1b3; }
    .depthWrap { height:220px; }
    canvas { max-height: 340px; }
    #tvChart { height: 420px; }
    @media (max-width:1000px){
      main.layout { grid-template-columns:1fr; grid-template-rows:auto auto auto auto auto; }
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">Trader X</div>
    <div class="pair" id="currentPair">BTC/IDR</div>
    <div class="tabs">
      <div class="tab active" data-pair="BTC/IDR">BTC/IDR</div>
      <div class="tab" data-pair="ETH/IDR">ETH/IDR</div>
      <div class="tab" data-pair="DOGE/IDR">DOGE/IDR</div>
    </div>
  </header>

  <main class="layout">
    <!-- TradingView Chart -->
    <section class="panel">
      <h2>TradingView chart</h2>
      <div class="content">
        <div id="tvChart"></div>
      </div>
    </section>

    <!-- Depth chart -->
    <section class="panel">
      <h2>Depth chart (bid/ask)</h2>
      <div class="content depthWrap">
        <canvas id="depthChart"></canvas>
      </div>
    </section>

    <!-- Order entry -->
    <section class="panel">
      <h2>Order entry</h2>
      <div class="content">
        <div class="grid2">
          <div>
            <label>Order type</label>
            <select id="orderType">
              <option value="market">Market</option>
              <option value="limit">Limit</option>
            </select>
          </div>
          <div>
            <label>Side</label>
            <select id="orderSide">
              <option value="buy">Buy</option>
              <option value="sell">Sell</option>
            </select>
          </div>
        </div>
        <div class="grid2" style="margin-top:10px;">
          <div><label>Harga (IDR)</label><input type="number" id="price"/></div>
          <div><label>Qty (base)</label><input type="number" id="qty"/></div>
        </div>
        <div class="quick">
          <button data-q="25">25%</button><button data-q="50">50%</button>
          <button data-q="75">75%</button><button data-q="100">100%</button>
        </div>
        <div class="actions">
          <button class="btn buy" id="placeBuy">Place BUY</button>
          <button class="btn sell" id="placeSell">Place SELL</button>
          <button class="btn secondary" id="reset">Reset</button>
          <button class="btn ghost" id="cancelBids">Cancel bids</button>
          <button class="btn ghost" id="cancelAsks">Cancel asks</button>
          <button class="btn ghost" id="clearTrades">Clear trades</button>
        </div>
        <div class="metrics" style="margin-top:10px;">
          <div class="metric"><div class="label">Saldo IDR</div><div class="value" id="balIDR">—</div></div>
          <div class="metric"><div class="label">Saldo Base</div><div class="value" id="balBase">—</div></div>
        </div>
      </div>
    </section>

    <!-- Recent trades -->
    <section class="panel">
      <h2>Recent trades</h2>
      <div class="content" style="max-height:200px; overflow:auto;">
        <table>
          <thead><tr><th style="text-align:left">Waktu</th><th>Harga</th><th>Qty</th><th>Nilai</th><th>Side</th></tr></thead>
          <tbody id="trades